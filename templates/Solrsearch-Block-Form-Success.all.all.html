<script type="text/javascript" tal:condition="doCompletion">
function complete(field, fieldOp, fieldName) {
	var url = '/index.php?module=solrsearch&action=Complete&lang=${lang}';
	if (fieldName != null) {
		url += "&fieldName="+fieldName;
	}
	jQuery(field).autocomplete(url, {delay: 150, cacheLength : 1, max : 30, matchSubset: false, formatItem : function(result, index, count, term) { return result[0]+" ("+result[1]+")"; } });
}

jQuery(document).ready(function() {
	var simpleField = document.getElementById('solrsearch');
	complete(simpleField, "AND", "aggregateText");
});
</script>
<form class="cmxform" method="${configuration/getSubmitMethod}" action="${formAction}">
	<p>
		<label class="hidden" for="solrsearch" change:translate="&modules.solrsearch.frontoffice.Search-inputlabel;"></label>
		<input class="textfield" type="text" id="solrsearch" name="solrsearchParam[terms]" value="${terms}" change:i18nattr="empty &modules.solrsearch.frontoffice.Search-button-title;"/>
		<input class="button" type="submit" name="submit" change:i18nattr="value &modules.solrsearch.frontoffice.Search-button-ok;"/>
	</p>
</form>